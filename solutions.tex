\documentclass[10pt]{article}
\input{defaults}
\input{defaults-drawing}

\title{University of Minnesota Physics GWE Solutions}
\author{%
	Justin Willmert%
}

% For boxing the final answer in a solution:
	\usepackage{empheq}
% Multicolumn pages
	\usepackage{multicol}
% Circuit drawing
	\usepackage[american,siunitx]{circuitikz}

% Generate an index of all the GWE problems
\usepackage{makeidx}
	\makeindex
	% Change the index printing so that multicol can balance the columns
	\let\origtheindex\theindex
	\let\origendtheindex\endtheindex
	\def\theindex{%
		\def\twocolumn{\begin{multicols}{2}}%
		\def\onecolumn{}%
		%~ \clearpage
		\origtheindex
	}
	\def\endtheindex{%
		\end{multicols}%
		\origendtheindex
	}

\usepackage[parfill]{parskip}

%% Setup page styles
	% Plain pages
	\pagestyle{empty}
	% Don't number the sections explicitly, but still use \section, etc
	% (non-starred) so that the TOC is still generated
	\setcounter{secnumdepth}{0}
	% Then have the TOC only show the year and problem numbers without also
	% listing the Question and Answer sections
	\setcounter{tocdepth}{2}

%% Convenience macros
	% Script L used for Lagrangian
	\newcommand{\sL}{\ensuremath{\mathcal L}}
	% Derivative shortcut
	\newcommand{\dd}{\ensuremath{\,\mathrm{d}}}


\begin{document}

\begingroup
	% Use smaller fonts for the TOC and index
	\small
	% Patch the table of contents to use double columns. Needs to be done here
	% because something else redefines \@starttoc when the document begins
	% (probably hyperref...)
	\makeatletter
	\let\origstarttoc\@starttoc
	\renewcommand*{\@starttoc}[1]{%
		\begin{multicols}{2}%
			\origstarttoc{#1}%
		\end{multicols}%
	}
	\makeatother
	\tableofcontents

	% Print the Index
	\printindex
	\clearpage
\endgroup

\section{Fall 2011 Part I}
\input{2011fall_p1}
\clearpage

\section{Fall 2011 Part II}
\input{2011fall_p2}
\clearpage

\section{Spring 2012 Part I}
\input{2012spring_p1}
\clearpage

\section{Fall 2012 Part I}
\input{2012fall_p1}
\clearpage

\end{document}
